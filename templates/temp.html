<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MoodFlix</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='temp.css') }}">
    <!-- Google Fonts for a modern look -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/x-icon">
</head>
<body>
    <!-- Sticky Header with Logo and Navigation -->
    <header class="sticky-header">
        <div class="logo">
            <a href="/">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="MoodFlix Logo" height="36">
            </a>
        </div>
        <nav class="nav-menu">
            <ul>
                <li><a href="/popular-movies">Popular Movies</a></li>
                <li><a href="/popular-shows">Popular Shows</a></li>
                <li><a href="/about">About Us</a></li>
            </ul>
        </nav>
    </header>    
    
    <!-- Background Image (full-screen) -->
    <div class="background-image"></div>
    
    <div class="heading-container">
        <h1 class="main-heading">
            Welcome to <span class="highlight">MoodFlix</span>
            <img src="{{ url_for('static', filename='images/ai.png') }}" alt="Icon" height="42" class="heading-icon">
        </h1>
        <p class="sub-heading">Discover movies that match your mood!</p>
    </div>

    <!-- Search Container (now with increased top and bottom padding) -->
    <div class="search-container">
        <form method="post" action="/">
            <input type="text" name="query" placeholder="Search for movies or shows..." required>
            <button type="submit">Search</button>
        </form>
    </div>
    
    <!-- Movies Section -->
    <section class="movies-section">
        {% for movie in movies %}
        <div class="movie-card">
            <img src="{{ movie.poster }}" alt="{{ movie.title }} Poster">
            <div class="movie-info">
                <h2>{{ movie.title }} ({{ movie.year }})</h2>
                <p class="genres">{{ movie.genres }}</p>
                <!-- <p class="description">{{ movie.description }}</p> -->
            </div>
        </div>
        {% endfor %}
    </section>

<!-- Slide-in Overlay -->
<div class="overlay" id="overlay">
    <div class="overlay-content">
        <span class="overlay-close" onclick="closeOverlay()">âœ•</span>

        <!-- Reuse the existing search bar -->
        <div class="search-overlay">
            <form method="post" action="/">
                <input type="text" name="query" placeholder="Search for movies or shows..." required>
                <button type="submit">Search</button>
            </form>
        </div>

        <!-- Filters Section -->
        <div class="filter-section">
            <h3>Genres</h3>
            <div class="chip-group">
                <label class="chip"><input type="checkbox" name="genre" value="Action"> Action</label>
                <label class="chip"><input type="checkbox" name="genre" value="Comedy"> Comedy</label>
                <label class="chip"><input type="checkbox" name="genre" value="Drama"> Drama</label>
                <label class="chip"><input type="checkbox" name="genre" value="Thriller"> Thriller</label>
            </div>

            <h3>Languages</h3>
            <div class="chip-group">
                <label class="chip"><input type="checkbox" name="language" value="English"> English</label>
                <label class="chip"><input type="checkbox" name="language" value="Hindi"> Hindi</label>
                <label class="chip"><input type="checkbox" name="language" value="Spanish"> Spanish</label>
                <label class="chip"><input type="checkbox" name="language" value="Korean"> Korean</label>
            </div>

            <h3>Actors</h3>
            <div class="chip-group">
                <label class="chip"><input type="checkbox" name="actor" value="Tom Cruise"> Tom Cruise</label>
                <label class="chip"><input type="checkbox" name="actor" value="Emma Stone"> Emma Stone</label>
                <label class="chip"><input type="checkbox" name="actor" value="Shah Rukh Khan"> Shah Rukh Khan</label>
                <label class="chip"><input type="checkbox" name="actor" value="Zendaya"> Zendaya</label>
            </div>
        </div>
    </div>
</div>


<script>
    const searchContainer = document.querySelector('.search-container');
    const overlay = document.getElementById('overlay');

    // Open overlay when search container is clicked
    searchContainer.addEventListener('click', () => {
        overlay.classList.add('open');
    });

    // Optional: prevent form from submitting
    const form = searchContainer.querySelector('form');
    form.addEventListener('submit', (e) => {
        e.preventDefault();
        overlay.classList.add('open');
    });

    // Close overlay when clicking outside of it
    document.addEventListener('click', (e) => {
        const isClickInsideOverlay = overlay.contains(e.target);
        const isClickInsideSearch = searchContainer.contains(e.target);

        if (!isClickInsideOverlay && !isClickInsideSearch) {
            overlay.classList.remove('open');
        }
    });

    // Manual close button
    function closeOverlay() {
        overlay.classList.remove('open');
    }
</script>


</body>
</html>
